global:
  debugging:
      enabled: true
  # ssp:
  #   global:
  #     env:
  #       # Default JVM sizing for all JVM pods (can be overridden per-service)
  #       # Leaves ~40% headroom for metaspace, code cache, threads, JNI, TLS, etc.
  #       jvmOpts: >-
  #         -XX:+UseContainerSupport
  #         -XX:MaxRAMPercentage=60
  #         -XX:InitialRAMPercentage=30
  #         -XX:MaxMetaspaceSize=256m
  #         -XX:+ExitOnOutOfMemoryError
   
ssp:
  deployment:
    size: custom
  availability:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  dbInitializer:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  dataseed:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  vaultSecretsInitializer:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  geolocation:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  uiHelperSvc:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  opa:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  adminconsole:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  selfserviceconsole:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  factor:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  geolocation:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  iarisk:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  scheduler:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 2Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"


  signin:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  admin:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  # ---- JVM services that already had 1Gi/2Gi: keep sizing, add jvm flags ----
  azserver:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  identity:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  authMgr:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 3Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  # ---- iaservice had Xms/Xmx=2Gi with req=3Gi/limit=3Gi: give more headroom ----
  iaservice:
    # Keep your explicit Xmx=2Gi; raise limit so native/metaspace/thread stacks have space
    resources:
      requests:
        memory: 4Gi
      limits:
        memory: 4Gi
    env:
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

#   featureFlags:
#     dataseed:
#       enabled: false
#       skipSchemaInit: false
#       logLevel: INFO
#     policyupdatecheck:
#       enabled: false
#     scheduler:
#       enabled: false
#     # DONOT REMOVE THIS FLAG. THIS IS BEING USED IN AUTHENTICATION FLOW TO DETERMINE IF THE SSPRISK SERVICE IS DEPLOYED
#     iarisk:
#       enabled: false
#     adminconsole:
#       enabled: false
#     systemconsole:
#       enabled: false
#     selfserviceconsole:
#       enabled: false
#     swagger:
#       enabled: false
#     uiframe:
#       option: "UNSET"
#     custommetrics:
#       enabled: false
#     signinSupportsLegacyBrowser:
#       enabled: false
#     availabilityMetrics:
#       enabled: false
#       maxConnectionTimeoutInSecs: 300
#     customLocationData:
#       enabled: false
#     idbridge:
#       enabled: false
#     riskpolicies:
#       enabled: false
#     onBehalfOfPrivilegedOperations:
#       enabled: false
  # ---- JVM services with request==limit (add headroom + jvmOpts) ----