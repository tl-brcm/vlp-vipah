global:
  debugging:
    enabled: true
  # ssp:
  #   global:
  #     env:
  #       # Default JVM sizing for all JVM pods (can be overridden per-service)
  #       # Leaves ~40% headroom for metaspace, code cache, threads, JNI, TLS, etc.
  #       jvmOpts: >-
  #         -XX:+UseContainerSupport
  #         -XX:MaxRAMPercentage=60
  #         -XX:InitialRAMPercentage=30
  #         -XX:MaxMetaspaceSize=256m
  #         -XX:+ExitOnOutOfMemoryError
   
ssp:
  deployment:
    size: custom
  availability:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  dbInitializer:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  dataseed:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  vaultSecretsInitializer:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  uiHelperSvc:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  opa:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  adminconsole:
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"

  selfserviceconsole:
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  factor:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  geolocation:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  iarisk:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  scheduler:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  signin:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  admin:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  azserver:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  identity:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  authMgr:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -XX:MaxRAMPercentage=35
        -XX:InitialRAMPercentage=8
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 3Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
  iaservice:
    env:
      jvmOpts: >-
        -XX:+UseContainerSupport
        -Xmx2g
        -Xms512m
        -XX:MaxMetaspaceSize=256m
        -XX:ReservedCodeCacheSize=160m
        -XX:MaxDirectMemorySize=512m
        -Dio.netty.maxDirectMemory=512m
        -XX:+ExitOnOutOfMemoryError
        -XX:+HeapDumpOnOutOfMemoryError
        -XX:HeapDumpPath=/tmp
        -XX:+UseG1GC
        -XX:MaxGCPauseMillis=200
    resources:
      requests:
        memory: 4Gi
      limits:
        memory: 4Gi
    podReplicaCount: "1"
    scaling:
      min: "1"
      max: "1"
#   featureFlags:
#     dataseed:
#       enabled: false
#       skipSchemaInit: false
#       logLevel: INFO
#     policyupdatecheck:
#       enabled: false
#     scheduler:
#       enabled: false
#     # DONOT REMOVE THIS FLAG. THIS IS BEING USED IN AUTHENTICATION FLOW TO DETERMINE IF THE SSPRISK SERVICE IS DEPLOYED
#     iarisk:
#       enabled: false
#     adminconsole:
#       enabled: false
#     systemconsole:
#       enabled: false
#     selfserviceconsole:
#       enabled: false
#     swagger:
#       enabled: false
#     uiframe:
#       option: "UNSET"
#     custommetrics:
#       enabled: false
#     signinSupportsLegacyBrowser:
#       enabled: false
#     availabilityMetrics:
#       enabled: false
#       maxConnectionTimeoutInSecs: 300
#     customLocationData:
#       enabled: false
#     idbridge:
#       enabled: false
#     riskpolicies:
#       enabled: false
#     onBehalfOfPrivilegedOperations:
#       enabled: false
  # ---- JVM services with request==limit (add headroom + jvmOpts) ----